import{Topic as e,Service as n,ServiceRequest as t}from"roslib";function a(e,n,t,a,i,r,o,s,c,l){"boolean"!=typeof o&&(c=s,s=o,o=!1);var u,d="function"==typeof t?t.options:t;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,i&&(d.functional=!0)),a&&(d._scopeId=a),r?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,c(e)),e&&e._registeredComponents&&e._registeredComponents.add(r)},d._ssrRegister=u):n&&(u=o?function(e){n.call(this,l(e,this.$root.$options.shadowRoot))}:function(e){n.call(this,s(e))}),u)if(d.functional){var m=d.render;d.render=function(e,n){return u.call(n),m(e,n)}}else{var v=d.beforeCreate;d.beforeCreate=v?[].concat(v,u):[u]}return t}var i,r=a({render:function(){var e=this,n=e.$createElement;return(e._self._c||n)("v-select",{attrs:{label:e.value.name,placeholder:e.value.default.toString(),hint:e.value.description,"persistent-hint":!0,items:e.value.edit_method.enum,"item-value":"value","item-text":"name"},on:{change:e.change},model:{value:e.value.value,callback:function(n){e.$set(e.value,"value",n)},expression:"value.value"}})},staticRenderFns:[]},void 0,{name:"ros-dynamic-reconfigure-enum",props:["value"],methods:{change:function(){this.$emit("change",this.value)}}},void 0,!1,void 0,!1,void 0,void 0,void 0),o=a({render:function(){var e=this,n=e.$createElement;return(e._self._c||n)("v-text-field",{attrs:{label:e.value.name,placeholder:e.value.default,hint:e.value.description,"persistent-hint":!0},on:{change:e.change},model:{value:e.value.value,callback:function(n){e.$set(e.value,"value",n)},expression:"value.value"}})},staticRenderFns:[]},void 0,{name:"ros-dynamic-reconfigure-str",props:["value"],methods:{change:function(){this.$emit("change",this.value)}}},void 0,!1,void 0,!1,void 0,void 0,void 0),s={name:"ros-dynamic-reconfigure-int",props:["value"],data:function(){var e=this;return{valid:!1,rules:[function(n){return n>=e.value.min||"Minumum is "+e.value.min},function(n){return n<=e.value.max||"Maximum is "+e.value.max},function(e){return""==e||!isNaN(e)&&parseInt(Number(e))==e&&!isNaN(parseInt(e,10))||"Only integers are allowed"}]}},methods:{change:function(){this.valid&&this.$emit("change",this.value)}}},c="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase());function l(e){return function(e,n){return function(e,n){var t=c?n.media||"default":e,a=u[t]||(u[t]={ids:new Set,styles:[]});if(!a.ids.has(e)){a.ids.add(e);var r=n.source;if(n.map&&(r+="\n/*# sourceURL="+n.map.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n.map))))+" */"),a.element||(a.element=document.createElement("style"),a.element.type="text/css",n.media&&a.element.setAttribute("media",n.media),void 0===i&&(i=document.head||document.getElementsByTagName("head")[0]),i.appendChild(a.element)),"styleSheet"in a.element)a.styles.push(r),a.element.styleSheet.cssText=a.styles.filter(Boolean).join("\n");else{var o=a.ids.size-1,s=document.createTextNode(r),l=a.element.childNodes;l[o]&&a.element.removeChild(l[o]),l.length?a.element.insertBefore(s,l[o]):a.element.appendChild(s)}}}(e,n)}}var u={};var d=a({render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"ros-dynamic-reconfigure-slider"},[t("span",{class:["name","pa-0",e.valid?"":"error--text"]},[e._v(e._s(e.value.name))]),e._v(" "),t("v-layout",{staticStyle:{position:"relative"},attrs:{row:"",wrap:""}},[t("v-flex",{staticClass:"pr-3",attrs:{xs10:""}},[t("v-slider",{attrs:{step:"1",min:e.value.min,max:e.value.max,error:!e.valid,"persistent-hint":!0},on:{change:e.change},model:{value:e.value.value,callback:function(n){e.$set(e.value,"value",n)},expression:"value.value"}})],1),e._v(" "),t("v-flex",{attrs:{xs2:""}},[t("v-form",{ref:"form",model:{value:e.valid,callback:function(n){e.valid=n},expression:"valid"}},[t("v-text-field",{ref:"input",staticClass:"mt-0",attrs:{type:"number",step:"1",min:e.value.min,max:e.value.max,placeholder:e.value.default.toString(),hint:e.value.description,"persistent-hint":!0,rules:e.rules},on:{change:e.change},model:{value:e.value.value,callback:function(n){e.$set(e.value,"value",e._n(n))},expression:"value.value"}})],1)],1)],1),e._v(" "),t("span",{staticClass:"description"},[e._v(e._s(e.value.description))])],1)},staticRenderFns:[]},(function(e){e&&e("data-v-7bd39c8d_0",{source:".ros-dynamic-reconfigure-slider{margin-top:-12px;margin-bottom:-20px}.ros-dynamic-reconfigure-slider .v-text-field__details{position:absolute;left:0;top:75%}.ros-dynamic-reconfigure-slider .name{font-size:12px;font-weight:400;position:relative;top:12px}.ros-dynamic-reconfigure-slider .description{font-size:12px;top:-12px;opacity:0}.ros-dynamic-reconfigure-slider .theme--light .description,.ros-dynamic-reconfigure-slider .theme--light .name{color:rgba(0,0,0,.54)}.ros-dynamic-reconfigure-slider .theme--dark .description,.ros-dynamic-reconfigure-slider .theme--dark .name{color:rgba(255,255,255,.7)}",map:void 0,media:void 0})}),s,void 0,!1,void 0,!1,l,void 0,void 0),m=a({render:function(){var e=this,n=e.$createElement;return(e._self._c||n)("v-checkbox",{attrs:{label:e.value.name,hint:e.value.description,"persistent-hint":!0},on:{change:e.change},model:{value:e.value.value,callback:function(n){e.$set(e.value,"value",n)},expression:"value.value"}})},staticRenderFns:[]},void 0,{name:"ros-dynamic-reconfigure-bool",props:["value"],methods:{change:function(){this.$emit("change",this.value)}}},void 0,!1,void 0,!1,void 0,void 0,void 0),v=a({render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{staticClass:"ros-dynamic-reconfigure-slider"},[t("span",{class:["name","pa-0",e.valid?"":"error--text"]},[e._v(e._s(e.value.name))]),e._v(" "),t("v-layout",{staticStyle:{position:"relative"},attrs:{row:"",wrap:""}},[t("v-flex",{staticClass:"pr-3",attrs:{xs10:""}},[t("v-slider",{attrs:{step:(e.value.max-e.value.min)/100,min:e.value.min,max:e.value.max,error:!e.valid,"persistent-hint":!0},on:{change:e.change},model:{value:e.value.value,callback:function(n){e.$set(e.value,"value",n)},expression:"value.value"}})],1),e._v(" "),t("v-flex",{attrs:{xs2:""}},[t("v-form",{ref:"form",model:{value:e.valid,callback:function(n){e.valid=n},expression:"valid"}},[t("v-text-field",{ref:"input",staticClass:"mt-0",attrs:{type:"number",min:e.value.min,max:e.value.max,placeholder:e.value.default.toString(),hint:e.value.description,"persistent-hint":!0,rules:e.rules},on:{change:e.change},model:{value:e.value.value,callback:function(n){e.$set(e.value,"value",e._n(n))},expression:"value.value"}})],1)],1)],1),e._v(" "),t("span",{staticClass:"description"},[e._v(e._s(e.value.description))])],1)},staticRenderFns:[]},(function(e){e&&e("data-v-1bcfeed2_0",{source:".ros-dynamic-reconfigure-slider{margin-top:-12px;margin-bottom:-20px}.ros-dynamic-reconfigure-slider .v-text-field__details{position:absolute;left:0;top:75%}.ros-dynamic-reconfigure-slider .name{font-size:12px;font-weight:400;position:relative;top:12px}.ros-dynamic-reconfigure-slider .description{font-size:12px;top:-12px;opacity:0}.ros-dynamic-reconfigure-slider .theme--light .description,.ros-dynamic-reconfigure-slider .theme--light .name{color:rgba(0,0,0,.54)}.ros-dynamic-reconfigure-slider .theme--dark .description,.ros-dynamic-reconfigure-slider .theme--dark .name{color:rgba(255,255,255,.7)}",map:void 0,media:void 0})}),{name:"ros-dynamic-reconfigure-double",props:["value"],data:function(){var e=this;return{valid:!1,rules:[function(n){return n>=e.value.min||"Minumum is "+e.value.min},function(n){return n<=e.value.max||"Maximum is "+e.value.max},function(e){return""==e||!isNaN(e)&&parseFloat(Number(e))==e||"Only numbers are allowed"}]}},methods:{change:function(){this.valid&&this.$emit("change",this.value)}}},void 0,!1,void 0,!1,l,void 0,void 0),p=a({render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-card",[e.groups?t("v-form",e._l(e.groups,(function(n,a){return t("v-container",{key:a},[t("v-layout",{attrs:{row:"",wrap:""}},[e.groups.length>1?t("v-subheader",[e._v(e._s(n.name))]):e._e(),e._v(" "),e._l(n.parameters,(function(a,i){return t("v-flex",{key:i,attrs:{xs12:"",sm12:"","px-3":""}},[""!=a.edit_method?t("ros-dynamic-reconfigure-enum",{on:{change:e.change},model:{value:n.parameters[i],callback:function(t){e.$set(n.parameters,i,t)},expression:"group.parameters[index]"}}):t("ros-dynamic-reconfigure-"+a.type,{tag:"div",on:{change:e.change},model:{value:n.parameters[i],callback:function(t){e.$set(n.parameters,i,t)},expression:"group.parameters[index]"}})],1)}))],2)],1)})),1):e._e()],1)},staticRenderFns:[]},void 0,{name:"ros-dynamic-reconfigure-node",components:{RosDynamicReconfigureEnum:r,RosDynamicReconfigureStr:o,RosDynamicReconfigureInt:d,RosDynamicReconfigureBool:m,RosDynamicReconfigureDouble:v},props:{ros:{type:Object,require:!0},node:{type:String,require:!0}},watch:{topic:function(){this.$nextTick(this.reload)}},data:function(){return{groups:[]}},mounted:function(){this.reload()},methods:{reload:function(){this.parameterUpdatesTopic&&(this.parameterUpdatesTopic.unsubscribe(),this.parameterUpdatesTopic=void 0),this.parameterUpdatesTopic=new e({ros:this.ros,name:this.node+"/parameter_updates",messageType:"dynamic_reconfigure/Config"}),this.reconfigureClient=new n({ros:this.ros,name:this.node+"/set_parameters",serviceType:"dynamic_reconfigure/Reconfigure"}),this.parameterUpdatesTopic.subscribe(this.parameterUpdateFeedback)},getParameterDescriptions:function(n){var t=this;""!=this.node&&(this.parameterDescriptionsTopic=new e({ros:this.ros,name:this.node+"/parameter_descriptions",messageType:"dynamic_reconfigure/ConfigDescription"}),this.parameterDescriptionsTopic.subscribe((function(e){if(e&&e.groups){for(var a in e.groups){var i=e.groups[a];for(var r in i.parameters){var o=i.parameters[r];for(var s in""!=o.edit_method&&(o.edit_method=JSON.parse(o.edit_method.replace(/'/g,'"'))),e.max[o.type+"s"]){var c=e.max[o.type+"s"][s];c.name==o.name&&(o.max=c.value)}for(var l in e.min[o.type+"s"]){var u=e.min[o.type+"s"][l];u.name==o.name&&(o.min=u.value)}for(var d in e.dflt[o.type+"s"]){var m=e.dflt[o.type+"s"][d];m.name==o.name&&(o.default=m.value)}for(var v in n[o.type+"s"]){var p=n[o.type+"s"][v];p.name==o.name&&(o.value=p.value)}}}t.groups=e.groups}else t.groups={};t.parameterDescriptionsTopic.unsubscribe(),t.parameterDescriptionsTopic=void 0})))},parameterUpdateFeedback:function(e){if(0==this.groups.length)this.getParameterDescriptions(e);else for(var n in this.groups){var t=this.groups[n];for(var a in t.parameters){var i=t.parameters[a];for(var r in e[i.type+"s"]){var o=e[i.type+"s"][r];i.name==o.name&&(i.value=o.value)}}}},change:function(e){var n=this,a=new t({config:{bools:[],ints:[],strs:[],doubles:[],groups:[]}});a.config[e.type+"s"].push({name:e.name,value:e.value}),this.reconfigureClient.callService(a,(function(e){n.parameterUpdateFeedback(e.config)}))}},beforeDestroy:function(){this.parameterUpdatesTopic&&(this.parameterUpdatesTopic.unsubscribe(),this.parameterUpdatesTopic=void 0)}},void 0,!1,void 0,!1,void 0,void 0,void 0),f=a({render:function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("v-expansion-panel",{attrs:{popout:""}},e._l(e.nodes,(function(n,a){return t("v-expansion-panel-content",{key:a,scopedSlots:e._u([{key:"header",fn:function(){return[t("div",[e._v(e._s(n))])]},proxy:!0}],null,!0)},[e._v(" "),t("v-card",[t("ros-dynamic-reconfigure-node",{attrs:{node:n,ros:e.ros}})],1)],1)})),1)},staticRenderFns:[]},void 0,{name:"ros-dynamic-reconfigure-list",components:{RosDynamicReconfigureNode:p},props:{ros:{type:Object,require:!0}},data:function(){return{nodes:[]}},mounted:function(){this.getNodes()},methods:{getNodes:function(){var e=this;this.ros.getTopicsForType("dynamic_reconfigure/ConfigDescription",(function(n){e.nodes=n.map((function(e){return e.replace("/parameter_descriptions","")}))}))}}},void 0,!1,void 0,!1,void 0,void 0,void 0),h=Object.freeze({__proto__:null,RosDynamicReconfigureList:f,RosDynamicReconfigureNode:p,RosDynamicReconfigureBool:m,RosDynamicReconfigureDouble:v,RosDynamicReconfigureEnum:r,RosDynamicReconfigureInt:d,RosDynamicReconfigureStr:o});var g={install:function e(n){e.installed||(e.installed=!0,Object.keys(h).forEach((function(e){n.component(e,h[e])})))}},y=null;"undefined"!=typeof window?y=window.Vue:"undefined"!=typeof global&&(y=global.Vue),y&&y.use(g);export default g;export{m as RosDynamicReconfigureBool,v as RosDynamicReconfigureDouble,r as RosDynamicReconfigureEnum,d as RosDynamicReconfigureInt,f as RosDynamicReconfigureList,p as RosDynamicReconfigureNode,o as RosDynamicReconfigureStr};
